![](../../attachments/OS%20Command%20Injection.png)
# Overview
## Theory

### Exploitation
OS Command Injection a.k.a **shell injection**. It allows an attacker to **execute OS commands** on the **server** that running an application.
### Risk
Typically fully compromise the **application** and its **data**.
Attack can leverage an this vulnerability to compromise other parts of the **hosting infrastructure**, **exploit trust relationship** to pivot the attack to other systems within the organization.
### Vulnerability
```
<?php
if ($_SERVER["REQUEST_METHOD"] === "POST") {
    $ip = $_POST["ip"];

    eval('$output = shell_exec("ping -c 4 " . "' . $ip . '");');

    echo "<pre>$output</pre>";
}?>
```

This sample shows **ip** parameter taken from POST request, include the value inside dangerous **functions** "**eval()**" that directly execute user input as a part of the code and print output as in string. This sample highlights lack of **input sanitation** and **validation**.
# Practical
## Injecting OS Commands
